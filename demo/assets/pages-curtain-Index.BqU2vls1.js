import{d as e,r as l,v as o,q as t,o as a,c as n,w as u,e as s,y as c,x as i,k as r,l as d,i as v,a as f,b as m,f as p}from"./index-B0wV8KWu.js";import{_ as C}from"./wd-button.BTOOSaL4.js";import{_}from"./demo-block.DzZhMvar.js";import{f as h,n as w,i as k,m as b,l as g,w as x,b as y,a as I}from"./page-wraper.xrwG2hFo.js";const $=y(e({name:"wd-curtain",options:{virtualHost:!0,addGlobalClass:!0,styleIsolation:"shared"},props:{...h,value:w(!1),closePosition:k("inset"),src:String,to:String,width:Number,closeOnClickModal:w(!1),hideWhenClose:w(!0),zIndex:b(10),customCloseClass:k(""),customCloseStyle:k("")},emits:["beforeenter","enter","afterenter","beforeleave","leave","afterleave","close","closed","click-modal","load","error","click"],setup(e,{emit:f}){const m=e,p=f,C=l(!1),_=l(!0),h=l(1);o((()=>m.value),(e=>{e&&_.value?C.value=!0:C.value=!1}),{deep:!0,immediate:!0});const w=t((()=>{let e="";return m.width&&(e+=`width: ${m.width}px ;`,e+=`height: ${m.width/h.value}px`),e}));function k(){p("beforeenter")}function b(){p("enter")}function y(){p("afterenter")}function I(){p("beforeleave")}function $(){p("leave")}function j(){p("afterleave"),p("closed")}function z(){C.value=!1,p("close")}function E(){p("click-modal")}function S(e){const{height:l,width:o}=e.detail;h.value=o/l,_.value=!0,p("load")}function L(){_.value=!1,p("error")}function M(){m.to&&r({url:m.to}),p("click"),z()}return(e,l)=>{const o=d,t=v;return a(),n(t,{class:"wd-curtain-wrapper"},{default:u((()=>[s(g,{modelValue:C.value,"onUpdate:modelValue":l[0]||(l[0]=e=>C.value=e),transition:"zoom-in",position:"center","close-on-click-modal":e.closeOnClickModal,"hide-when-close":e.hideWhenClose,"z-index":e.zIndex,onBeforeEnter:k,onEnter:b,onAfterEnter:y,onBeforeLeave:I,onLeave:$,onAfterLeave:j,onClose:z,onClickModal:E,"custom-class":`wd-curtain ${e.customClass}`,"custom-style":e.customStyle},{default:u((()=>[s(t,{class:"wd-curtain__content"},{default:u((()=>[s(o,{src:e.src,class:"wd-curtain__content-img",style:c(w.value),onClick:M,onError:L,onLoad:S},null,8,["src","style"]),i(e.$slots,"close",{},(()=>[s(x,{name:"close-outline","custom-class":`wd-curtain__content-close ${e.closePosition} ${e.customCloseClass}`,"custom-style":e.customCloseStyle,onClick:z},null,8,["custom-class","custom-style"])]),!0)])),_:3})])),_:3},8,["modelValue","close-on-click-modal","hide-when-close","z-index","custom-class","custom-style"])])),_:3})}}}),[["__scopeId","data-v-54b12bd2"]]),j=y(e({__name:"Index",setup(e){const o=l(!1),t=l(!1),c=l(!1),i=l(!1),r=l(!1),d=l(!1),h=l(!1),w=l(!1),k=l(!1),b=l("https://img20.360buyimg.com/da/jfs/t1/141592/25/8861/261559/5f68d8c1E33ed78ab/698ad655bfcfbaed.png"),g=l("/pages/index/index");function x(){o.value=!0}function y(){o.value=!1}function j(){t.value=!0}function z(){t.value=!1}function E(){c.value=!0}function S(){c.value=!1}function L(){i.value=!0}function M(){i.value=!1}function V(){r.value=!0}function A(){r.value=!1}function B(){d.value=!0}function O(){d.value=!1}function P(){h.value=!0}function W(){h.value=!1}function q(){w.value=!0}function G(){w.value=!1}function H(){k.value=!0}function N(){k.value=!1}return(e,l)=>{const U=f(m("wd-button"),C),D=f(m("demo-block"),_),F=v,J=f(m("wd-curtain"),$),K=f(m("page-wraper"),I);return a(),n(K,null,{default:u((()=>[s(D,{title:"基本用法"},{default:u((()=>[s(U,{onClick:x},{default:u((()=>[p("关闭按钮在内部")])),_:1})])),_:1}),s(D,{title:"修改按钮位置"},{default:u((()=>[s(F,null,{default:u((()=>[s(U,{onClick:j},{default:u((()=>[p("左上")])),_:1}),s(U,{onClick:E},{default:u((()=>[p("顶部")])),_:1}),s(U,{onClick:L},{default:u((()=>[p("右上")])),_:1})])),_:1}),s(F,null,{default:u((()=>[s(U,{onClick:V},{default:u((()=>[p("左下")])),_:1}),s(U,{onClick:B},{default:u((()=>[p("底部")])),_:1}),s(U,{onClick:P},{default:u((()=>[p("右下")])),_:1})])),_:1})])),_:1}),s(D,{title:"点击遮罩关闭"},{default:u((()=>[s(U,{onClick:q},{default:u((()=>[p("点击遮罩关闭")])),_:1})])),_:1}),s(D,{title:"自定义关闭按钮"},{default:u((()=>[s(U,{onClick:H},{default:u((()=>[p("自定义关闭按钮")])),_:1})])),_:1}),s(J,{value:o.value,src:b.value,to:g.value,onClose:y,width:280},null,8,["value","src","to"]),s(J,{value:t.value,src:b.value,to:g.value,"close-position":"top-left",width:200,onClose:z},null,8,["value","src","to"]),s(J,{value:c.value,src:b.value,to:g.value,"close-position":"top",width:200,onClose:S},null,8,["value","src","to"]),s(J,{value:i.value,src:b.value,to:g.value,"close-position":"top-right",width:240,onClose:M},null,8,["value","src","to"]),s(J,{value:r.value,src:b.value,to:g.value,"close-position":"bottom-left",width:240,onClose:A},null,8,["value","src","to"]),s(J,{value:d.value,src:b.value,to:g.value,"close-position":"bottom",width:240,onClose:O},null,8,["value","src","to"]),s(J,{value:h.value,src:b.value,to:g.value,"close-position":"bottom-right",width:240,onClose:W},null,8,["value","src","to"]),s(J,{value:w.value,src:b.value,to:g.value,"close-position":"bottom-right",width:240,onClose:G,"close-on-click-modal":!0},null,8,["value","src","to"]),s(J,{value:k.value,src:b.value,onClose:N,width:280},{close:u((()=>[s(F,{class:"custom-close",onClick:N},{default:u((()=>[p("关闭")])),_:1})])),_:1},8,["value","src"])])),_:1})}}}),[["__scopeId","data-v-c73e4e40"]]);export{j as default};
