import{d as a,q as s,r as e,o as t,c as l,w as o,f as r,t as d,u as n,p as i,g as u,e as c,F as m,A as f,B as _,n as g,y as p,j as v,i as w,C as x,D as h,a as y,b as j,h as T,l as b}from"./index-B0wV8KWu.js";import{_ as C}from"./wd-divider.Dawp5YpY.js";import{f as k,w as S,q as I,r as P,x as q,y as F,b as A,a as B}from"./page-wraper.xrwG2hFo.js";import{u as D}from"./useTranslate.232Synd_.js";const E=A(a({name:"wd-loadmore",options:{virtualHost:!0,addGlobalClass:!0,styleIsolation:"shared"},props:{...k,state:String,loadingText:String,finishedText:String,errorText:String,loadingProps:Object},emits:["reload"],setup(a,{emit:x}){const h=s((()=>{const a=P(y.loadingProps)?q(y.loadingProps,F):{};return a.customClass=`wd-loadmore__loading ${a.customClass||""}`,a})),y=a,j=x,{translate:T}=D("loadmore"),b=e(null);function k(){"error"===y.state&&(b.value="loading",j("reload"))}return(a,s)=>{const e=v,x=w;return t(),l(x,{class:g(["wd-loadmore",a.customClass]),style:p(a.customStyle),onClick:k},{default:o((()=>["finished"===a.state?(t(),l(C,{key:0},{default:o((()=>[r(d(a.finishedText||n(T)("finished")),1)])),_:1})):i("",!0),"error"===a.state?(t(),u(m,{key:1},[c(e,{class:"wd-loadmore__text"},{default:o((()=>[r(d(a.errorText||n(T)("error")),1)])),_:1}),c(e,{class:"wd-loadmore__text is-light"},{default:o((()=>[r(d(n(T)("retry")),1)])),_:1}),c(S,{name:"refresh","custom-class":"wd-loadmore__refresh"})],64)):i("",!0),"loading"===a.state?(t(),u(m,{key:2},[c(I,f(_(h.value)),null,16),c(e,{class:"wd-loadmore__text"},{default:o((()=>[r(d(a.loadingText||n(T)("loading")),1)])),_:1})],64)):i("",!0)])),_:1},8,["class","style"])}}}),[["__scopeId","data-v-80386a47"]]),G=A(a({__name:"Index",setup(a){const s=e("loading"),n=e(0),i=e(60);function f(){setTimeout((()=>{n.value=n.value+15,s.value="loading"}),200)}return x((()=>{45===n.value?s.value="error":n.value<i.value?f():n.value===i.value&&(s.value="finished")})),h((()=>{f()})),(a,e)=>{const i=b,_=w,g=y(j("wd-loadmore"),E),p=y(j("page-wraper"),B);return t(),l(p,null,{default:o((()=>[c(_,{class:"container"},{default:o((()=>[(t(!0),u(m,null,T(n.value,(a=>(t(),l(_,{key:a,class:"list-item"},{default:o((()=>[c(i,{src:"https://img10.360buyimg.com/jmadvertisement/jfs/t1/70325/36/14954/36690/5dcd3e3bEee5006e0/aed1ccf6d5ffc764.png"}),c(_,{class:"right"},{default:o((()=>[r("这是一条测试"+d(a+1),1)])),_:2},1024)])),_:2},1024)))),128)),c(g,{state:s.value,onReload:f},null,8,["state"])])),_:1})])),_:1})}}}),[["__scopeId","data-v-7db38e08"]]);export{G as default};
