import{f as e,n as a,i as t,m as l,w as o,k as s,K as u,r as i,o as d,J as n,ad as c,b as r,c as m,j as p,d as v,e as f,a as _}from"./page-wraper.xrwG2hFo.js";import{d as b,r as h,P as g,v as w,X as y,q as x,m as k,U as C,o as V,c as T,w as z,e as I,x as L,V as j,y as $,p as U,n as Q,L as H,i as O,H as F,a as X,b as Y,g as q,f as D,u as G,F as J}from"./index-B0wV8KWu.js";import{_ as K,a as P}from"./wd-radio-group.Bc6rqnX9.js";import{_ as R}from"./demo-block.DzZhMvar.js";import{_ as S}from"./wd-button.BTOOSaL4.js";import{p as W,r as A,c as B}from"./clickoutside.CJmLG0WC.js";import{u as E}from"./useRaf.4Fio7dLM.js";import"./useChildren.D_bqRQP9.js";const M=r(b({name:"wd-fab",options:{virtualHost:!0,addGlobalClass:!0,styleIsolation:"shared"},props:{...e,active:a(!1),type:t("primary"),position:t("right-bottom"),direction:t("top"),disabled:a(!1),inactiveIcon:t("add"),activeIcon:t("close"),zIndex:l(99),draggable:a(!1),gap:{type:Object,default:()=>({})},expandable:a(!0)},emits:["update:active","click"],setup(e,{expose:a,emit:t}){const l=e,r=t,m=h(!1),p=h(!1),v=g(u,null),{proxy:f}=H();w((()=>l.active),(e=>{p.value=e}),{immediate:!0,deep:!0}),w((()=>p.value),(e=>{e&&(v&&v.closeOther?v.closeOther(f):B(f))}));const _=h(l.direction);w((()=>l.direction),(e=>_.value=e)),w((()=>l.position),(()=>G()));const b=h(0),X=h(0),Y=y({width:0,height:0}),q=y({width:56,height:56}),D=y({minTop:0,minLeft:0,maxTop:0,maxLeft:0});function G(){const e=l.position,{minLeft:a,minTop:t,maxLeft:o,maxTop:s}=D;"left-top"===e?(b.value=t,X.value=a):"right-top"===e?(b.value=t,X.value=o):"left-bottom"===e?(b.value=s,X.value=a):"right-bottom"===e&&(b.value=s,X.value=o)}const J=y({x:0,y:0}),K=h(!1);function P(e){if(!1===l.draggable)return;const a=e.touches[0];J.x=a.clientX-X.value,J.y=a.clientY-b.value,K.value=!1}function R(e){if(!1===l.draggable)return;const a=e.touches[0],{minLeft:t,minTop:o,maxLeft:s,maxTop:u}=D;let i=a.clientX-J.x,d=a.clientY-J.y;i<t?i=t:i>s&&(i=s),d<o?d=o:d>u&&(d=u),b.value=d,X.value=i}function M(){if(!1===l.draggable)return;const e=Y.width/2,a=X.value+q.width/2;K.value=!0,a<e?(X.value=D.minLeft,_.value="right"):(X.value=D.maxLeft,_.value="left")}const N=x((()=>{const e={top:b.value+"px",left:X.value+"px",transition:K.value?"all ease 0.3s":"none"};return i(l.zIndex)&&(e["z-index"]=l.zIndex),`${d(e)};${l.customStyle}`}));function Z(){l.disabled||(l.expandable?(p.value=!p.value,r("update:active",p.value)):r("click"))}return k((()=>{v&&v.pushToQueue?v.pushToQueue(f):W(f);const{start:e}=E((async()=>{await async function(){const e=F();try{const e=await n("#trigger",!1,f);q.width=e.width||56,q.height=e.height||56}catch(u){console.log(u)}const{top:a=16,left:t=16,right:o=16,bottom:s=16}=l.gap;Y.width=e.windowWidth,Y.height=c?e.windowTop+e.windowHeight:e.windowHeight,D.minTop=c?e.windowTop+a:a,D.minLeft=t,D.maxLeft=Y.width-q.width-o,D.maxTop=Y.height-q.height-s}(),G(),m.value=!0}));e()})),C((()=>{v&&v.removeFromQueue?v.removeFromQueue(f):A(f)})),a({open:function(){p.value=!0,r("update:active",!0)},close:function(){p.value=!1,r("update:active",!1)}}),(e,a)=>{const t=O;return V(),T(t,{onTouchmove:j(R,["stop","prevent"]),onTouchstart:P,onTouchend:M,class:Q(`wd-fab ${e.customClass}`),style:$(N.value),onClick:a[1]||(a[1]=j((()=>{}),["stop"]))},{default:z((()=>[I(t,{onClick:a[0]||(a[0]=j((()=>{}),["stop"])),style:$({visibility:m.value?"visible":"hidden"}),id:"trigger"},{default:z((()=>[e.$slots.trigger?L(e.$slots,"trigger",{key:0},void 0,!0):(V(),T(S,{key:1,onClick:Z,"custom-class":"wd-fab__trigger",round:"",type:e.type,disabled:e.disabled},{default:z((()=>[I(o,{"custom-class":"wd-fab__icon",name:p.value?e.activeIcon:e.inactiveIcon},null,8,["name"])])),_:1},8,["type","disabled"]))])),_:3},8,["style"]),e.expandable?(V(),T(s,{key:0,"enter-class":`wd-fab__transition-enter--${_.value}`,"enter-active-class":"wd-fab__transition-enter-active","leave-to-class":`wd-fab__transition-leave-to--${_.value}`,"leave-active-class":"wd-fab__transition-leave-active","custom-class":`wd-fab__actions wd-fab__actions--${_.value}`,show:p.value,duration:300},{default:z((()=>[L(e.$slots,"default",{},void 0,!0)])),_:3},8,["enter-class","leave-to-class","custom-class","show"])):U("",!0)])),_:3},8,["class","style"])}}}),[["__scopeId","data-v-44c40868"]]),N=r(b({__name:"Index",setup(e){const{show:a}=m(),t=h(!1),l=h("primary"),s=h("left-bottom"),u=h("top"),i=h(!1),d=h(!1),n=h(!1),{closeOutside:c}=p();function r(){a("分享给朋友")}return(e,m)=>{const p=X(Y("wd-toast"),v),b=X(Y("wd-radio"),K),h=X(Y("wd-radio-group"),P),g=X(Y("demo-block"),R),w=X(Y("wd-switch"),f),y=O,x=X(Y("wd-button"),S),k=X(Y("wd-icon"),o),C=X(Y("wd-fab"),M),L=X(Y("page-wraper"),_);return V(),q(J,null,[I(p),I(y,{class:"fab",onClick:G(c)},{default:z((()=>[I(L,null,{default:z((()=>[I(g,{title:"悬浮按钮主题色"},{default:z((()=>[I(h,{modelValue:l.value,"onUpdate:modelValue":m[0]||(m[0]=e=>l.value=e),inline:"",shape:"dot"},{default:z((()=>[I(b,{value:"primary","custom-class":"custom-radio"},{default:z((()=>[D("主要按钮")])),_:1}),I(b,{value:"success","custom-class":"custom-radio"},{default:z((()=>[D("成功按钮")])),_:1}),I(b,{value:"warning","custom-class":"custom-radio"},{default:z((()=>[D("警告按钮")])),_:1}),I(b,{value:"error","custom-class":"custom-radio"},{default:z((()=>[D("危险按钮")])),_:1}),I(b,{value:"info","custom-class":"custom-radio"},{default:z((()=>[D("信息按钮")])),_:1})])),_:1},8,["modelValue"])])),_:1}),I(g,{title:"悬浮按钮位置"},{default:z((()=>[I(h,{modelValue:s.value,"onUpdate:modelValue":m[1]||(m[1]=e=>s.value=e),inline:"",shape:"dot"},{default:z((()=>[I(b,{value:"left-top","custom-class":"custom-radio"},{default:z((()=>[D("左上")])),_:1}),I(b,{value:"right-top","custom-class":"custom-radio"},{default:z((()=>[D("右上")])),_:1}),I(b,{value:"left-bottom","custom-class":"custom-radio"},{default:z((()=>[D("左下")])),_:1}),I(b,{value:"right-bottom","custom-class":"custom-radio"},{default:z((()=>[D("右下")])),_:1})])),_:1},8,["modelValue"])])),_:1}),I(g,{title:"菜单弹出方向"},{default:z((()=>[I(h,{modelValue:u.value,"onUpdate:modelValue":m[2]||(m[2]=e=>u.value=e),inline:"",shape:"dot"},{default:z((()=>[I(b,{value:"top","custom-class":"custom-radio"},{default:z((()=>[D("向上")])),_:1}),I(b,{value:"bottom","custom-class":"custom-radio"},{default:z((()=>[D("向下")])),_:1}),I(b,{value:"right","custom-class":"custom-radio"},{default:z((()=>[D("向右")])),_:1}),I(b,{value:"left","custom-class":"custom-radio"},{default:z((()=>[D("向左")])),_:1})])),_:1},8,["modelValue"])])),_:1}),I(g,{title:"禁用"},{default:z((()=>[I(y,{onClick:m[4]||(m[4]=j((()=>{}),["stop"]))},{default:z((()=>[I(w,{modelValue:i.value,"onUpdate:modelValue":m[3]||(m[3]=e=>i.value=e),size:"22px"},null,8,["modelValue"])])),_:1})])),_:1}),I(g,{title:"可拖动"},{default:z((()=>[I(y,{onClick:m[6]||(m[6]=j((()=>{}),["stop"]))},{default:z((()=>[I(w,{modelValue:d.value,"onUpdate:modelValue":m[5]||(m[5]=e=>d.value=e),size:"22px"},null,8,["modelValue"])])),_:1})])),_:1}),I(g,{title:"切换展示"},{default:z((()=>[I(y,{onClick:m[8]||(m[8]=j((()=>{}),["stop"]))},{default:z((()=>[I(x,{type:"primary",onClick:m[7]||(m[7]=e=>t.value=!t.value),round:""},{default:z((()=>[D("切换")])),_:1})])),_:1})])),_:1}),I(g,{title:"自定义触发器"},{default:z((()=>[I(y,{onClick:m[10]||(m[10]=j((()=>{}),["stop"]))},{default:z((()=>[I(w,{modelValue:n.value,"onUpdate:modelValue":m[9]||(m[9]=e=>n.value=e),size:"22px"},null,8,["modelValue"])])),_:1})])),_:1}),n.value?(V(),T(C,{key:1,position:"left-bottom",draggable:d.value,expandable:!1},{trigger:z((()=>[I(x,{onClick:r,icon:"share",type:"error"},{default:z((()=>[D("分享给朋友")])),_:1})])),_:1},8,["draggable"])):(V(),T(C,{key:0,active:t.value,"onUpdate:active":m[15]||(m[15]=e=>t.value=e),disabled:i.value,type:l.value,position:s.value,direction:u.value,draggable:d.value,onClick:m[16]||(m[16]=e=>G(a)("我被点了"))},{default:z((()=>[I(x,{onClick:m[11]||(m[11]=e=>G(a)("一键三连")),disabled:i.value,"custom-class":"custom-button",type:"primary",round:""},{default:z((()=>[I(k,{name:"github-filled",size:"22px"})])),_:1},8,["disabled"]),I(x,{onClick:m[12]||(m[12]=e=>G(a)("我要收藏")),disabled:i.value,"custom-class":"custom-button",type:"success",round:""},{default:z((()=>[I(k,{name:"star",size:"22px"})])),_:1},8,["disabled"]),I(x,{onClick:m[13]||(m[13]=e=>G(a)("我要投币")),disabled:i.value,"custom-class":"custom-button",type:"error",round:""},{default:z((()=>[I(k,{name:"money-circle",size:"22px"})])),_:1},8,["disabled"]),I(x,{onClick:m[14]||(m[14]=e=>G(a)("我要点赞")),disabled:i.value,"custom-class":"custom-button",type:"warning",round:""},{default:z((()=>[I(k,{name:"thumb-up",size:"22px"})])),_:1},8,["disabled"])])),_:1},8,["active","disabled","type","position","direction","draggable"]))])),_:1})])),_:1},8,["onClick"])],64)}}}),[["__scopeId","data-v-e32de168"]]);export{N as default};
