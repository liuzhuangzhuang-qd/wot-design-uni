import{d as e,q as t,v as a,m as s,o,c as r,w as i,x as l,n,i as f,e as u,r as d,a as c,b as p}from"./index-B0wV8KWu.js";import{w as m}from"./wd-text.cT_NRAPh.js";import{f as x,m as y,i as V,n as w,F as z,ae as _,b,a as j}from"./page-wraper.xrwG2hFo.js";import{u as v}from"./useCountDown.BG9IdqOU.js";import{_ as S}from"./demo-block.DzZhMvar.js";import{_ as g,a as h}from"./wd-grid.D7_BZAUM.js";import"./dayjs.M2YwAvb1.js";import"./useRaf.4Fio7dLM.js";import"./wd-badge.ie0naOHg.js";import"./useChildren.D_bqRQP9.js";const k=b(e({name:"wd-count-to",options:{virtualHost:!0,addGlobalClass:!0,styleIsolation:"shared"},props:{...x,fontSize:y(16),color:V(""),type:V("default"),startVal:y(0),endVal:y(2024),duration:y(3e3),autoStart:w(!0),decimals:{type:Number,required:!1,default:0,validator:e=>e>=0},decimal:V("."),separator:V(","),prefix:V(""),suffix:V(""),useEasing:w(!0),customStyle:V(""),customClass:V("")},emits:["mounted","finish"],setup(e,{expose:d,emit:c}){const p=e,x=c,{start:y,pause:V,reset:w,current:b}=v({time:p.duration,millisecond:!0,onFinish:()=>x("finish")}),j=t((()=>`wd-count-to ${p.customClass}`)),S=t((()=>function(e){const{startVal:t,endVal:a,duration:s,useEasing:o}=p,r=s-e,i=t>a,l=r/s;let n;n=o?i?t-_(r,0,t-a,s)||0:_(r,t,a-t,s):i?t-(t-a)*l:t+(a-t)*l;return n=i?Math.max(a,n):Math.min(a,n),function(e){if("number"!=typeof e&&(e=parseFloat(e),isNaN(e)))return"0";const t=(e=e.toFixed(p.decimals)).split(".");let a=t[0];const s=t.length>1?p.decimal+t[1]:"",o=/(\d+)(\d{3})/;if(p.separator&&!z(p.separator))for(;o.test(a);)a=a.replace(o,"$1"+p.separator+"$2");return a+s}(n)}(b.value.total)));function g(){w(p.duration),p.autoStart&&y()}return a([()=>p.startVal,()=>p.endVal,()=>p.duration],g,{immediate:!1}),s((()=>{g(),x("mounted")})),d({start:y,reset:g,pause:V}),(e,t)=>{const a=f;return o(),r(a,{class:n(j.value)},{default:i((()=>[l(e.$slots,"prefix",{},(()=>[u(m,{type:p.type,color:p.color,size:.7*p.fontSize+"px",text:p.prefix},null,8,["type","color","size","text"])]),!0),l(e.$slots,"default",{},(()=>[u(m,{type:p.type,color:p.color,size:`${p.fontSize}px`,text:S.value},null,8,["type","color","size","text"])]),!0),l(e.$slots,"suffix",{},(()=>[u(m,{type:p.type,color:p.color,size:.7*p.fontSize+"px",text:p.suffix},null,8,["type","color","size","text"])]),!0)])),_:3},8,["class"])}}}),[["__scopeId","data-v-570f1aff"]]),$=e({__name:"Index",setup(e){const t=d(2024),a=d(),s=()=>{a.value.start()},l=()=>{a.value.pause()},n=()=>{a.value.reset()};return(e,f)=>{const d=c(p("wd-count-to"),k),m=c(p("demo-block"),S),x=c(p("wd-grid-item"),g),y=c(p("wd-grid"),h),V=c(p("page-wraper"),j);return o(),r(V,null,{default:i((()=>[u(m,{title:"基本用法"},{default:i((()=>[u(d,{endVal:t.value,suffix:"年",color:"#16baaa"},null,8,["endVal"]),u(d,{prefix:"￥",decimals:2,endVal:186.321,fontSize:32,suffix:"%",color:"#1e9fff"}),u(d,{prefix:"￥",decimals:2,endVal:21286.321,fontSize:32,suffix:"%",color:"#ff5722"}),u(d,{prefix:"￥",decimals:2,endVal:21286.321,fontSize:32,suffix:"%",color:"#ffb800",duration:2e3})])),_:1}),u(m,{title:"设置主题"},{default:i((()=>[u(d,{type:"primary",prefix:"￥",startVal:0,endVal:888888,suffix:"%"}),u(d,{type:"error",prefix:"￥",startVal:0,endVal:888888,suffix:"%"}),u(d,{type:"success",prefix:"￥",startVal:0,endVal:888888,suffix:"%"}),u(d,{type:"warning",prefix:"￥",startVal:0,endVal:888888,suffix:"%"}),u(d,{prefix:"￥",startVal:0,endVal:888888,suffix:"%"})])),_:1}),u(m,{title:"手动控制"},{default:i((()=>[u(d,{ref_key:"countTo",ref:a,"auto-start":!1,prefix:"￥",startVal:1e3,decimals:3,endVal:9999.32,fontSize:32,suffix:"%",color:"#1e9fff"},null,512),u(y,{clickable:"",border:""},{default:i((()=>[u(x,{text:"开始",icon:"play-circle-stroke",onItemclick:s}),u(x,{text:"暂停",icon:"pause-circle",onItemclick:l}),u(x,{text:"重置",icon:"refresh",onItemclick:n})])),_:1})])),_:1})])),_:1})}}});export{$ as default};
